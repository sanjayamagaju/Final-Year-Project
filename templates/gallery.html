{% extends 'navigation.html' %}
{% load static %}

{% block title %}
Gallery
{% endblock title %}


{% block content %}
<link rel="stylesheet" type="text/CSS" href="{% static './CSS/gallery.css' %}">

<div class="header" id="myHeader">
  <h1>Gallery</h1>
  <hr><hr>
  <h3>Thank You Videos!!!</h3>
  <br>
  <hr>
  <iframe width="450" height="325" src="https://www.youtube.com/embed/bBc4Imp258U">
  </iframe>
  <iframe width="420" height="325" src="https://www.youtube.com/embed/_oVtABJAXCA">
  </iframe>
  <iframe width="450" height="325" src="https://www.youtube.com/embed/tpGlLcFW_YQ">
  </iframe>
  <br>
  <hr>
  <br>

  <p style="font-size: 10px; font-style: italic;">Here are some of the images shared by the victims whose life is saved
    because of your valuable donations. Thank you for saving life of lots of people. Love you all.</p>
  <p>Click on the buttons to change the grid view.</p>
  <button class="btn-grid" onclick="one()">1</button>
  <button class="btn-grid" onclick="two()">2</button>
  <button class="btn-grid" onclick="four()">4</button>
</div>

<!-- dynamic gallery -->
<div class="row">
  {% for glry in galleryimg %}
  <!-- The Modal -->
  <div id="myModal" class="modal">
    <span class="close">&times;</span>
    <img class="modal-content" id="img01">
    <div id="caption"></div>
  </div>
  <br>
  <div class="column">
    <img id="myImg" class="myimgs" src="{% if glry.Image %}
    {{glry.Image.url}}
    {% else %}
    {% static './Images/blank.jpg' %}
    {% endif %}" alt="{{glry.desc}}" class="glry-img" style="width:100%;">
  </div>
  {% endfor %}
</div>

<!-- layout script -->
<script>
  // Get the elements with class="column"
  var elements = document.getElementsByClassName("column");

  // Declare a loop variable
  var i;

  // Full-width images
  function one() {
    for (i = 0; i < elements.length; i++) {
      elements[i].style.msFlex = "100%";  // IE10
      elements[i].style.flex = "100%";
    }
  }

  // Two images side by side
  function two() {
    for (i = 0; i < elements.length; i++) {
      elements[i].style.msFlex = "50%";  // IE10
      elements[i].style.flex = "50%";
    }
  }

  // Four images side by side
  function four() {
    for (i = 0; i < elements.length; i++) {
      elements[i].style.msFlex = "25%";  // IE10
      elements[i].style.flex = "25%";
    }
  }

  // Add active class to the current button (highlight it)
  var header = document.getElementById("myHeader");
  var btns = header.getElementsByClassName("btn");
  for (var i = 0; i < btns.length; i++) {
    btns[i].addEventListener("click", function () {
      var current = document.getElementsByClassName("active");
      current[0].className = current[0].className.replace(" active", "");
      this.className += " active";
    });
  }
</script>


<!-- image zoom script -->
<script>
  // Get the modal
  var modal = document.querySelectorAll(".modal");
  for (var i = 0; modal[i]; i++) {
    var modals = modal[i];

    // Get the image and insert it inside the modal - use "alt" text as a caption
    var img = document.querySelectorAll(".myimgs");
    for (var i = 0; img[i]; i++) {
      var imgs = img[i];
      var modalImg = document.getElementById("img01");
      var captionText = document.getElementById("caption");
      imgs.onclick = function () {
        modals.style.display = "block";
        modalImg.src = this.src;
        captionText.innerHTML = this.alt;
      }

      // Get the <span> element that closes the modal
      var span = document.getElementsByClassName("close")[0];

      // When the user clicks on <span> (x), close the modal
      span.onclick = function () {
        modals.style.display = "none";
      }
    }
  }

</script>

{% endblock content %}